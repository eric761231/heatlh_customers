# 熱重載和更新應用程式指南

## 🔄 為什麼看不到變化？

當您修改代碼後，如果看不到變化，可能是因為：

1. **應用程式沒有重新編譯**
2. **快取問題**
3. **需要完全重新啟動**

## 🚀 解決方法

### 方法 1：使用熱重載（Hot Reload）- 最快

**如果應用程式正在運行：**

在終端中按：
- **`r`** - 熱重載（Hot Reload）
  - 快速重新載入代碼變更
  - 保留應用程式狀態
  - 適合修改 UI 或簡單邏輯

**注意：**
- 某些變更（如修改主題、添加新的依賴等）需要熱重啟
- 如果熱重載後還是看不到變化，嘗試熱重啟

### 方法 2：使用熱重啟（Hot Restart）- 推薦

**如果應用程式正在運行：**

在終端中按：
- **`R`** - 熱重啟（Hot Restart）
  - 完全重新啟動應用程式
  - 清除狀態，重新初始化
  - 適合修改主題、配置等

### 方法 3：完全重新啟動應用程式

**停止並重新運行：**

```bash
cd flutter_app

# 1. 停止當前運行的應用程式（在終端按 'q'）
# 或關閉模擬器中的應用程式

# 2. 清理快取
flutter clean

# 3. 重新獲取依賴
flutter pub get

# 4. 重新運行
flutter run
```

### 方法 4：清理並重新建置

**如果以上方法都不行：**

```bash
cd flutter_app

# 1. 清理所有建置快取
flutter clean

# 2. 刪除建置目錄
# Windows:
rmdir /s /q build

# 3. 重新獲取依賴
flutter pub get

# 4. 重新運行
flutter run
```

## 📱 在模擬器上測試

### 步驟 1：確認應用程式正在運行

```bash
cd flutter_app
flutter run
```

### 步驟 2：修改代碼後

**選項 A：熱重載（快速）**
- 在終端按 `r`
- 等待 "Reloaded" 訊息

**選項 B：熱重啟（推薦）**
- 在終端按 `R`
- 等待應用程式重新啟動

**選項 C：完全重新啟動**
- 在終端按 `q` 退出
- 重新執行 `flutter run`

## 🔧 常見問題

### 問題 1：按 `r` 沒有反應

**原因：**
- 應用程式可能沒有在運行
- 終端沒有焦點

**解決：**
1. 確認終端視窗有焦點（點擊終端）
2. 確認應用程式正在運行
3. 如果不行，按 `R` 進行熱重啟

### 問題 2：熱重載後還是舊的樣式

**原因：**
- 主題變更需要熱重啟
- 快取問題

**解決：**
1. 按 `R` 進行熱重啟
2. 如果還是不行，執行 `flutter clean` 然後重新運行

### 問題 3：修改顏色後看不到變化

**原因：**
- 顏色配置可能沒有正確導入
- 需要熱重啟或完全重啟

**解決：**
1. 確認 `import '../config/app_colors.dart';` 已添加
2. 按 `R` 進行熱重啟
3. 如果還是不行，按 `q` 退出後重新運行

### 問題 4：模擬器顯示舊版本

**原因：**
- 應用程式沒有重新安裝
- 快取問題

**解決：**
```bash
# 1. 停止應用程式
# 在終端按 'q'

# 2. 清理快取
flutter clean

# 3. 重新運行
flutter run
```

## 💡 最佳實踐

### 開發時的工作流程

1. **啟動應用程式**
   ```bash
   cd flutter_app
   flutter run
   ```

2. **修改代碼**

3. **查看變化**
   - 簡單修改：按 `r`（熱重載）
   - 主題/配置修改：按 `R`（熱重啟）
   - 重大修改：按 `q` 退出後重新運行

### 何時使用哪種方法

| 修改類型 | 推薦方法 | 原因 |
|---------|---------|------|
| UI 文字、顏色值 | 熱重載 (`r`) | 快速，保留狀態 |
| 主題配置 | 熱重啟 (`R`) | 需要重新初始化主題 |
| 新增依賴 | 完全重啟 | 需要重新編譯 |
| 修改 main.dart | 完全重啟 | 入口點變更 |
| 修改模型結構 | 完全重啟 | 可能影響狀態 |

## 🎯 快速檢查清單

如果看不到變化，按順序嘗試：

- [ ] 確認終端有焦點
- [ ] 按 `r` 進行熱重載
- [ ] 按 `R` 進行熱重啟
- [ ] 按 `q` 退出後重新運行 `flutter run`
- [ ] 執行 `flutter clean` 清理快取
- [ ] 確認代碼已保存
- [ ] 確認沒有編譯錯誤（查看終端輸出）

## 📝 調試命令

```bash
cd flutter_app

# 查看當前運行的設備
flutter devices

# 查看應用程式狀態
flutter doctor

# 清理快取
flutter clean

# 重新獲取依賴
flutter pub get

# 重新運行
flutter run
```

## 🆘 如果還是不行

請提供：
1. 終端的完整輸出
2. 您修改了哪些檔案
3. 您使用了什麼命令（`r`, `R`, 或重新運行）

這樣我可以提供更具體的解決方案！

