# ä¿®æ­£è³‡æ–™æ‰€æœ‰æ¬Šä½¿ç”¨æŒ‡å—

## å•é¡Œèªªæ˜

å¦‚æœæ‚¨ç™»å…¥å¾Œçœ‹ä¸åˆ°è¡Œç¨‹å®‰æ’ã€å®¢æˆ¶åå–®ã€è¨‚å–®è³‡æ–™ï¼Œå¯èƒ½æ˜¯å› ç‚ºèˆŠè³‡æ–™çš„ `created_by` æ¬„ä½ç‚ºç©ºæˆ– NULLã€‚

## è§£æ±ºæ–¹æ³•

### æ–¹æ³• 1ï¼šä½¿ç”¨ç¶²é å·¥å…·ï¼ˆæ¨è–¦ï¼‰

1. **ç¢ºä¿å·²ç™»å…¥ç³»çµ±**
   - è¨ªå• `login.html` ä¸¦ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥
   - ç™»å…¥æˆåŠŸå¾Œæœƒè·³è½‰åˆ° `calendar.html`

2. **è¨ªå•ä¿®æ­£å·¥å…·é é¢**
   - åœ¨ç€è¦½å™¨ç¶²å€åˆ—è¼¸å…¥ï¼š`fix-data-ownership.html`
   - æˆ–ç›´æ¥è¨ªå•ï¼š`https://your-domain.netlify.app/fix-data-ownership.html`

3. **åŸ·è¡Œä¿®æ­£**
   - é é¢æœƒé¡¯ç¤ºç•¶å‰ç™»å…¥çš„ç”¨æˆ¶ email
   - é»æ“Šã€ŒğŸ”§ é–‹å§‹ä¿®æ­£è³‡æ–™ã€æŒ‰éˆ•
   - ç­‰å¾…è™•ç†å®Œæˆï¼Œæœƒé¡¯ç¤ºæ›´æ–°çš„è³‡æ–™ç­†æ•¸

### æ–¹æ³• 2ï¼šä½¿ç”¨ SQL è…³æœ¬

1. ç™»å…¥ Supabase Dashboard
2. å‰å¾€ SQL Editor
3. æ‰“é–‹ `supabase/fix-data-ownership.sql`
4. å°‡ `YOUR_EMAIL@example.com` æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš› email
5. åŸ·è¡Œ SQL è…³æœ¬

## å¦‚æœé é¢ç„¡æ³•è¨ªå•

### æª¢æŸ¥æ¸…å–®

1. **æ˜¯å¦å·²ç™»å…¥ï¼Ÿ**
   - æ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰
   - æŸ¥çœ‹ Console æ¨™ç±¤
   - æª¢æŸ¥æ˜¯å¦æœ‰ã€Œè«‹å…ˆç™»å…¥ã€çš„è¨Šæ¯

2. **æª¢æŸ¥ç™»å…¥ç‹€æ…‹**
   - åœ¨ Console ä¸­è¼¸å…¥ï¼š`localStorage.getItem('googleLogin')`
   - å¦‚æœæœ‰å…§å®¹ï¼Œè¡¨ç¤ºå·²ç™»å…¥
   - å¦‚æœç‚º `null`ï¼Œè«‹å…ˆç™»å…¥

3. **æª¢æŸ¥è·¯å¾‘**
   - ç¢ºä¿è¨ªå•çš„æ˜¯æ­£ç¢ºçš„ URL
   - å¦‚æœéƒ¨ç½²åœ¨ Netlifyï¼ŒURL æ‡‰è©²æ˜¯ï¼š`https://your-site.netlify.app/fix-data-ownership.html`

4. **æ¸…é™¤å¿«å–**
   - æŒ‰ Ctrl+Shift+Rï¼ˆWindowsï¼‰æˆ– Cmd+Shift+Rï¼ˆMacï¼‰å¼·åˆ¶é‡æ–°è¼‰å…¥

## å¸¸è¦‹å•é¡Œ

### Q: é é¢é¡¯ç¤ºã€Œè«‹å…ˆç™»å…¥ã€ä½†æ˜æ˜å·²ç™»å…¥ï¼Ÿ

A: å¯èƒ½æ˜¯ç™»å…¥è³‡è¨ŠéæœŸï¼Œè«‹é‡æ–°ç™»å…¥ã€‚

### Q: é»æ“ŠæŒ‰éˆ•å¾Œæ²’æœ‰åæ‡‰ï¼Ÿ

A: 
1. æ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console æ¨™ç±¤æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯
3. æª¢æŸ¥ Network æ¨™ç±¤ï¼Œç¢ºèª Supabase API è«‹æ±‚æ˜¯å¦æˆåŠŸ

### Q: ä¿®æ­£å¾Œé‚„æ˜¯çœ‹ä¸åˆ°è³‡æ–™ï¼Ÿ

A: 
1. ç¢ºèªä¿®æ­£å·¥å…·é¡¯ç¤ºçš„æ›´æ–°ç­†æ•¸ > 0
2. é‡æ–°è¼‰å…¥é é¢ï¼ˆCtrl+Shift+Rï¼‰
3. æª¢æŸ¥ Supabase è³‡æ–™åº«ä¸­çš„ `created_by` æ¬„ä½æ˜¯å¦å·²æ›´æ–°

## æŠ€è¡“ç´°ç¯€

æ­¤å·¥å…·æœƒåŸ·è¡Œä»¥ä¸‹æ“ä½œï¼š
- æ›´æ–° `customers` è¡¨ä¸­ `created_by` ç‚º NULL æˆ–ç©ºå­—ä¸²çš„è¨˜éŒ„
- æ›´æ–° `schedules` è¡¨ä¸­ `created_by` ç‚º NULL æˆ–ç©ºå­—ä¸²çš„è¨˜éŒ„
- æ›´æ–° `orders` è¡¨ä¸­ `created_by` ç‚º NULL æˆ–ç©ºå­—ä¸²çš„è¨˜éŒ„

æ‰€æœ‰æ›´æ–°éƒ½æœƒå°‡ `created_by` è¨­å®šç‚ºç•¶å‰ç™»å…¥ç”¨æˆ¶çš„ emailã€‚

